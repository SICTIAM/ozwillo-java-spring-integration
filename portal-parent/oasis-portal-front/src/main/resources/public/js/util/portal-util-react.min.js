var Select2Mixin={componentDidMount:function(){this.renderSelect2()},componentDidUpdate:function(){},onChange:function(event){var s=this.state;s.value=event.val,this.setState(s),this.props.onChange&&this.props.onChange(event)},renderSelect2:function(){var select2=React.render(React.DOM.input(React.__spread({},this.props)),this.refs.select2div.getDOMNode()),$el=$(select2.getDOMNode());$el.select2(this.props.params),$el.on("change",this.onChange),this.props.select2Object=$el.data("select2")},render:function(){return React.createElement("div",{ref:"select2div"})}},Select2Component=React.createClass({displayName:"Select2Component",mixins:[Select2Mixin]}),GeoSelect2Mixin={componentWillMount:function(){this.props.params={multiple:!0,allowClear:!0,placeholder:t("ui.location"),separator:"|",minimumInputLength:3,ajax:{url:this.props.urlResources,dataType:"json",quietMillis:250,data:function(term,page){return{q:term}},results:function(data,page){return{results:data.areas}},cache:!0},formatResult:function(result,container,query,escapeMarkup){return this.formatResultWithTooltip(result,container,query,escapeMarkup)},formatResultTest:function(area){var markup="<div class='select2-result-repository clearfix'><div class='select2-result-repository__meta'><div class='select2-result-repository__title' title='"+area.uri+"'>"+area.name+"</div>";return area.detailedName&&(markup+="<div class='select2-result-repository__description'>"+area.detailedName+"</div>"),markup+="</div></div>"},tooltip:function(area){return area.uri},formatResultWithTooltip:function(result,container,query,escapeMarkup){var markup=[];return this.markMatchWithTooltip(this.text(result),query.term,markup,escapeMarkup,this.tooltip(result)),markup.join("")},markMatchWithTooltip:function(text,term,markup,escapeMarkup,tooltip){var match=window.Select2.util.stripDiacritics(text.toUpperCase()).indexOf(window.Select2.util.stripDiacritics(term.toUpperCase())),tl=term.length;return 0>match?void markup.push(escapeMarkup(text)):(markup.push("<span class='select2-tooltip' title='"+tooltip+"'>"),markup.push(escapeMarkup(text.substring(0,match))),markup.push("</span>"),markup.push("<span class='select2-match select2-tooltip' title='"+tooltip+"'>"),markup.push(escapeMarkup(text.substring(match,match+tl))),markup.push("</span>"),markup.push("<span class='select2-tooltip' title='"+tooltip+"'>"),markup.push(escapeMarkup(text.substring(match+tl,text.length))),void markup.push("</span>"))},formatSelectionTest:function(area){return area.name},text:function(area){return area.name},id:function(area){return area.uri},dropdownCssClass:"bigdrop",escapeMarkup:function(m){return m}}}},GeoMultiSelect2Component=React.createClass({displayName:"GeoMultiSelect2Component",mixins:[GeoSelect2Mixin,Select2Mixin],getInitialState:function(){return{value:[]}},componentWillMount:function(){this.props.params.multiple=!0}}),GeoSingleSelect2Component=React.createClass({displayName:"GeoSingleSelect2Component",mixins:[GeoSelect2Mixin,Select2Mixin],getInitialState:function(){return{value:null}},componentWillMount:function(){this.props.params.multiple=!1}});
